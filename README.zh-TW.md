[English](README.md)

---

# SillyTavern 提示詞分組（可摺疊）擴充功能

將提示詞管理器中的項目，透過簡單的「標頭標記」分組為可摺疊區塊，讓清單更整齊、瀏覽更高效。

## 功能

- 在提示詞名稱開頭加入標記（例如：`=標題`、`--- 工具`）即可建立群組。
- 標記所在的項目會成為可摺疊的群組標題。
- 支援兩種摺疊模式（標準模式、包覆模式）。
- 一鍵「全部展開 / 全部收合」。
- 可即時開關「分組」功能。
- 可自訂標頭標記與是否區分大小寫（設定會保存在 localStorage）。
- 輕量、零相依；樣式由 `collapsible-prompt.css` 提供。

## 摺疊模式

本插件支援兩種不同的摺疊模式，可以在設定面板中選擇。

- **標準模式 (預設):** 當找到一個標頭時，它會將其後的所有項目歸為一組，直到遇到下一個標頭為止。

- **包覆模式:** 此模式需要一對完全相同的標頭。它會將開始標頭、結束標頭以及它們之間的所有項目組成一個可摺疊的群組。
  - *範例:*
    ```
    ==== 第一章 開始 ====
    提示詞A
    提示詞B
    ==== 第一章 開始 ====
    ```
    以上內容將會變成一個名為「==== 第一章 開始 ====」的可摺疊群組。

## 使用方式

- 建立一個以標頭標記開頭的提示詞名稱。
- 根據選擇的摺疊模式，分組的行為會有所不同。
- 在提示詞管理器的標題列，可點擊按鈕來全部展開、全部收合、開啟設定或切換是否啟用分組。
- 打開設定面板可自訂標頭標記、摺疊模式及是否區分大小寫。

## 安裝

1. 複製儲存庫連結：`https://github.com/lilminzyu/ST-PromptFolding`
2. 在 SillyTavern 介面中開啟【Extensions】分頁。
3. 點擊右上角【Install Extension】。
4. 在跳出的視窗中，將儲存庫連結貼到第一個輸入框。
5. 點擊 **Install for all users** 或 **Install just for me**。
6. 安裝完成後，前往【Manage Extensions】。
7. 找到 **Prompt Folding** 並確保已啟用。

## 授權

本專案依 [LICENSE](LICENSE) 條款授權。
